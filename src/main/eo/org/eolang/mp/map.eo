+package org.eolang.mp
+alias org.eolang.mp.concat

[m] > map

  m > @

  [arr] > concat-all-arrays
    reduce. > @
      arr
      *
      [a x]
        concat a x > @

  [arr] > pairs-to-hash
    reduce. > @
      arr
      *
      [a x]
        with. > @
          a
          (x.at 0).as-hash

  [key value] > with
    * key value > new-pair
    ^.concat-all-arrays m > caa
    caa.with new-pair > arr
    ^.pairs-to-hash arr > harr
    TRUE > @
